
> vibe-cast@0.1.0 lint
> eslint . --ext .ts,.tsx


/Users/zayenz/projects/vibe-cast/scripts/e2e_flow_test.mjs
  60:62  error  Empty block statement  no-empty
  71:49  error  Empty block statement  no-empty
  72:64  error  Empty block statement  no-empty
  88:15  error  Empty block statement  no-empty

/Users/zayenz/projects/vibe-cast/src/App.tsx
  36:34  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zayenz/projects/vibe-cast/src/__tests__/configSerialization.test.ts
  121:47  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  231:64  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  232:56  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zayenz/projects/vibe-cast/src/components/ControlPlane.tsx
  167:6   warning  React Hook useEffect has a missing dependency: 'state'. Either include it or remove the dependency array  react-hooks/exhaustive-deps
  272:6   warning  React Hook useEffect has a missing dependency: 'state'. Either include it or remove the dependency array  react-hooks/exhaustive-deps
  417:89  warning  Unexpected any. Specify a different type                                                                  @typescript-eslint/no-explicit-any
  417:97  warning  Unexpected any. Specify a different type                                                                  @typescript-eslint/no-explicit-any
  420:28  warning  Unexpected any. Specify a different type                                                                  @typescript-eslint/no-explicit-any
  441:19  warning  Unexpected any. Specify a different type                                                                  @typescript-eslint/no-explicit-any
  441:35  warning  Unexpected any. Specify a different type                                                                  @typescript-eslint/no-explicit-any
  454:27  warning  Unexpected any. Specify a different type                                                                  @typescript-eslint/no-explicit-any
  468:32  warning  Unexpected any. Specify a different type                                                                  @typescript-eslint/no-explicit-any

/Users/zayenz/projects/vibe-cast/src/components/HelpModal.tsx
  43:114  error  `"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`  react/no-unescaped-entities
  43:127  error  `"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`  react/no-unescaped-entities
  43:132  error  `"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`  react/no-unescaped-entities
  43:146  error  `"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`  react/no-unescaped-entities

/Users/zayenz/projects/vibe-cast/src/components/Marquee.tsx
  20:7  warning  Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

/Users/zayenz/projects/vibe-cast/src/components/Marquee.tsx:20:7
  18 |     if (activeMessage) {
  19 |       // Force a reset if the same message is triggered again
> 20 |       setDisplayMessage(null);
     |       ^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect
  21 |       
  22 |       // Small delay to allow AnimatePresence to see the null state
  23 |       const nextTick = setTimeout(() => {  react-hooks/set-state-in-effect

/Users/zayenz/projects/vibe-cast/src/components/VisualizerWindow.tsx
  248:20  error    Error: Cannot access refs during render

React refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).

/Users/zayenz/projects/vibe-cast/src/components/VisualizerWindow.tsx:248:20
  246 |   if (debug && import.meta.env.DEV) {
  247 |     const logKey = `${visualizationId}|${presetSettings ? Object.keys(presetSettings).join(',') : 'none'}|${Object.keys(visualizationSettings).join(',')}`;
> 248 |     if (logKey !== lastLoggedRef.current) {
      |                    ^^^^^^^^^^^^^^^^^^^^^ Cannot access ref value during render
  249 |       lastLoggedRef.current = logKey;
  250 |       console.log('[VisualizationRenderer] Settings update:', {
  251 |         visualizationId,                                                                                                                                                                                                                                                react-hooks/refs
  249:7   error    Error: Cannot access refs during render

React refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).

/Users/zayenz/projects/vibe-cast/src/components/VisualizerWindow.tsx:249:7
  247 |     const logKey = `${visualizationId}|${presetSettings ? Object.keys(presetSettings).join(',') : 'none'}|${Object.keys(visualizationSettings).join(',')}`;
  248 |     if (logKey !== lastLoggedRef.current) {
> 249 |       lastLoggedRef.current = logKey;
      |       ^^^^^^^^^^^^^^^^^^^^^ Cannot update ref during render
  250 |       console.log('[VisualizationRenderer] Settings update:', {
  251 |         visualizationId,
  252 |         pluginFound: !!plugin,                                                                                                                                                                                                                                                                           react-hooks/refs
  372:70  warning  Unexpected any. Specify a different type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            @typescript-eslint/no-explicit-any
  430:9   error    Error: Cannot access variable before it is declared

`setShowDevOverlay` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.

/Users/zayenz/projects/vibe-cast/src/components/VisualizerWindow.tsx:430:9
  428 |       case 'toggle-debug-overlay':
  429 |         // Enable debug overlay via remote command (useful when keyboard shortcuts don't work)
> 430 |         setShowDevOverlay((v) => !v);
      |         ^^^^^^^^^^^^^^^^^ `setShowDevOverlay` accessed before it is declared
  431 |         break;
  432 |       case 'clear-active-message': {
  433 |         if (payload && typeof payload === 'object' && 'messageId' in payload) {

/Users/zayenz/projects/vibe-cast/src/components/VisualizerWindow.tsx:683:26
  681 |   }, [devOverlayEnabledByQuery]);
  682 |   
> 683 |   const [showDevOverlay, setShowDevOverlay] = useState<boolean>(shouldAutoEnableDebug);
      |                          ^^^^^^^^^^^^^^^^^ `setShowDevOverlay` is declared here
  684 |   
  685 |   // Auto-enable debug overlay if SSE doesn't connect within 3 seconds (production debugging)
  686 |   useEffect(() => {  react-hooks/immutability
  557:6   warning  React Hook useEffect has a missing dependency: 'sseConnected'. Either include it or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     react-hooks/exhaustive-deps
  572:6   warning  React Hook useEffect has a missing dependency: 'sseState'. Either include it or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         react-hooks/exhaustive-deps
  866:6   warning  React Hook useEffect has a missing dependency: 'handleRemoteCommand'. Either include it or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              react-hooks/exhaustive-deps
  891:9   warning  The 'vizSettings' conditional could make the dependencies of useEffect Hook (at line 903) change on every render. To fix this, wrap the initialization of 'vizSettings' in its own useMemo() Hook                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   react-hooks/exhaustive-deps

/Users/zayenz/projects/vibe-cast/src/components/__tests__/Marquee.test.tsx
  14:35  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  16:35  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  21:18  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  21:53  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  29:18  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  29:53  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  41:18  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  41:53  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zayenz/projects/vibe-cast/src/components/__tests__/VisualizerWindow.test.tsx
  16:36  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  17:34  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zayenz/projects/vibe-cast/src/components/settings/SettingsRenderer.tsx
  275:11  error  'alert' is not defined  no-undef
  288:9   error  'alert' is not defined  no-undef

/Users/zayenz/projects/vibe-cast/src/plugins/textStyles/BouncePlugin.tsx
  187:6  warning  React Hook useEffect has missing dependencies: 'bounceIntensity', 'controls', 'displayDuration', 'effectiveRepeats', 'fadeOutDuration', and 'springTransition'. Either include them or remove the dependency array  react-hooks/exhaustive-deps

/Users/zayenz/projects/vibe-cast/src/plugins/textStyles/CreditsPlugin.tsx
  201:17  error    Error: Cannot access refs during render

React refs are values that are not needed for rendering. Refs should only be accessed outside of render, such as in event handlers or effects. Accessing a ref value (the `current` property) during render can cause your component not to update as expected (https://react.dev/reference/react/useRef).

/Users/zayenz/projects/vibe-cast/src/plugins/textStyles/CreditsPlugin.tsx:201:17
  199 |     if (rawLines.length === 0) return [] as string[];
  200 |
> 201 |     const ctx = ensureCanvas();
      |                 ^^^^^^^^^^^^ This function accesses a ref value
  202 |     if (!ctx) return rawLines;
  203 |
  204 |     // Approximate font used by the credits lines (font-black)  react-hooks/refs
  311:6   warning  React Hook useEffect has a missing dependency: 'calculateAnimationParams'. Either include it or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        react-hooks/exhaustive-deps

/Users/zayenz/projects/vibe-cast/src/plugins/textStyles/DotMatrixPlugin.tsx
  250:7  warning  Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

/Users/zayenz/projects/vibe-cast/src/plugins/textStyles/DotMatrixPlugin.tsx:250:7
  248 |     if (message) {
  249 |       completedRef.current = false;
> 250 |       setIsVisible(true);
      |       ^^^^^^^^^^^^ Avoid calling setState() directly within an effect
  251 |       setDisplayedChars(0);
  252 |       setScrollPosition(0);
  253 |       setCurrentRepeat(0);  react-hooks/set-state-in-effect
  290:6  warning  React Hook useEffect has a missing dependency: 'handleComplete'. Either include it or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       react-hooks/exhaustive-deps

/Users/zayenz/projects/vibe-cast/src/plugins/textStyles/FadePlugin.tsx
  192:6  warning  React Hook useEffect has a missing dependency: 'controls'. Either include it or remove the dependency array  react-hooks/exhaustive-deps

/Users/zayenz/projects/vibe-cast/src/plugins/textStyles/ScrollingCapitalsPlugin.tsx
   91:26  error    'HTMLSpanElement' is not defined                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   no-undef
  185:7   warning  Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

/Users/zayenz/projects/vibe-cast/src/plugins/textStyles/ScrollingCapitalsPlugin.tsx:185:7
  183 |   useEffect(() => {
  184 |     if (displayMessage && currentRepeat > 0) {
> 185 |       setAnimationKey(prev => prev + 1);
      |       ^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect
  186 |     }
  187 |   }, [currentRepeat, displayMessage]);
  188 |                                                                                             react-hooks/set-state-in-effect
  195:7   warning  Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

/Users/zayenz/projects/vibe-cast/src/plugins/textStyles/ScrollingCapitalsPlugin.tsx:195:7
  193 |       lastMessageTimestampRef.current = messageTimestamp;
  194 |       completedRef.current = false;
> 195 |       setCurrentRepeat(0);
      |       ^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect
  196 |       // Clear any pending timeouts
  197 |       if (safetyTimeoutRef.current) {
  198 |         clearTimeout(safetyTimeoutRef.current);  react-hooks/set-state-in-effect
  223:6   warning  React Hook useEffect has a missing dependency: 'calculateAnimationParams'. Either include it or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        react-hooks/exhaustive-deps

/Users/zayenz/projects/vibe-cast/src/plugins/textStyles/TypewriterPlugin.tsx
  114:7  warning  Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

/Users/zayenz/projects/vibe-cast/src/plugins/textStyles/TypewriterPlugin.tsx:114:7
  112 |   useEffect(() => {
  113 |     if (!message) {
> 114 |       setDisplayedText('');
      |       ^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect
  115 |       return;
  116 |     }
  117 |  react-hooks/set-state-in-effect

/Users/zayenz/projects/vibe-cast/src/plugins/visualizations/MushroomsPlugin.tsx
  490:6  warning  React Hook useEffect has a missing dependency: 'taaMat.uniforms.uResolution'. Either include it or remove the dependency array  react-hooks/exhaustive-deps

/Users/zayenz/projects/vibe-cast/src/plugins/visualizations/PhotoSlideshowPlugin.tsx
  177:5   error  'usingExamplePhotos' is assigned a value but never used. Allowed unused vars must match /^_/u  @typescript-eslint/no-unused-vars
  278:25  error  `"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`                                react/no-unescaped-entities
  278:32  error  `"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`                                react/no-unescaped-entities

/Users/zayenz/projects/vibe-cast/src/plugins/visualizations/TransitionDemoPlugin.tsx
    1:28  error    'useRef' is defined but never used. Allowed unused vars must match /^_/u                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            @typescript-eslint/no-unused-vars
    6:3   error    'TransitionType' is defined but never used. Allowed unused vars must match /^_/u                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    @typescript-eslint/no-unused-vars
   51:5   error    'usingExamplePhotos' is assigned a value but never used. Allowed unused vars must match /^_/u                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       @typescript-eslint/no-unused-vars
   81:7   warning  Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

/Users/zayenz/projects/vibe-cast/src/plugins/visualizations/TransitionDemoPlugin.tsx:81:7
  79 |     if (!isTransitioning && enterPhase === 'active') {
  80 |       // Reset to 'enter' so next transition starts correctly
> 81 |       setEnterPhase('enter');
     |       ^^^^^^^^^^^^^ Avoid calling setState() directly within an effect
  82 |     }
  83 |   }, [isTransitioning, enterPhase]);
  84 |  react-hooks/set-state-in-effect
  159:25  error    `"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     react/no-unescaped-entities
  159:32  error    `"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     react/no-unescaped-entities

/Users/zayenz/projects/vibe-cast/src/plugins/visualizations/YouTubePlugin.tsx
  208:7   warning  Error: Calling setState synchronously within an effect can trigger cascading renders

Effects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:
* Update external systems with the latest state from React.
* Subscribe for updates from some external system, calling setState in a callback function when external state changes.

Calling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).

/Users/zayenz/projects/vibe-cast/src/plugins/visualizations/YouTubePlugin.tsx:208:7
  206 |   useEffect(() => {
  207 |     if (!videoId) {
> 208 |       setError('Invalid YouTube URL. Please provide a valid YouTube video URL.');
      |       ^^^^^^^^ Avoid calling setState() directly within an effect
  209 |       return;
  210 |     }
  211 |       react-hooks/set-state-in-effect
  341:22  warning  The ref value 'containerRef.current' will likely have changed by the time this effect cleanup function runs. If this ref points to a node rendered by React, copy 'containerRef.current' to a variable inside the effect, and use that variable in the cleanup function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              react-hooks/exhaustive-deps
  347:6   warning  React Hook useEffect has missing dependencies: 'muted' and 'volume'. Either include them or remove the dependency array                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              react-hooks/exhaustive-deps

/Users/zayenz/projects/vibe-cast/src/plugins/visualizations/__tests__/PhotoSlideshowPlugin.test.tsx
  11:21  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any
  16:30  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zayenz/projects/vibe-cast/src/plugins/visualizations/hooks/usePhotoSlideshow.ts
  193:16  warning  The ref value 'blobUrls.current' will likely have changed by the time this effect cleanup function runs. If this ref points to a node rendered by React, copy 'blobUrls.current' to a variable inside the effect, and use that variable in the cleanup function                react-hooks/exhaustive-deps
  194:23  warning  The ref value 'loadingPromises.current' will likely have changed by the time this effect cleanup function runs. If this ref points to a node rendered by React, copy 'loadingPromises.current' to a variable inside the effect, and use that variable in the cleanup function  react-hooks/exhaustive-deps
  236:18  error    'e' is defined but never used                                                                                                                                                                                                                                                  @typescript-eslint/no-unused-vars
  266:16  error    'err' is defined but never used                                                                                                                                                                                                                                                @typescript-eslint/no-unused-vars
  422:6   warning  React Hook useCallback has a missing dependency: 'onBeforeAdvance'. Either include it or remove the dependency array. If 'onBeforeAdvance' changes too often, find the parent component that defines it and wrap that definition in useCallback                                react-hooks/exhaustive-deps

/Users/zayenz/projects/vibe-cast/src/router.tsx
  33:65  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zayenz/projects/vibe-cast/src/test/mocks/sse.ts
  96:18  warning  Unexpected any. Specify a different type  @typescript-eslint/no-explicit-any

/Users/zayenz/projects/vibe-cast/src/utils/iconSet.tsx
  23:3  error  Shadowing of global property 'Infinity'  no-shadow-restricted-names

âœ– 76 problems (26 errors, 50 warnings)

